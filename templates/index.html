<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sudolution</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styles/index.css') }}"
    />
  </head>
  <body>
    <button class="ny-times-button">Logo</button>
    <div class="nav-buttons">
      <button class="up-button">Up</button>
      <button class="down-button">Down</button>
    </div>
    <div class="web-container">
      <section id="landing-page" class="landing-page">
        <div class="content">
          <div class="logo-container">
            <img
              class="logo"
              src="{{ url_for('static', filename = 'images/logo.png') }}"
              alt="Sudolution Logo"
            />
            <div class="logo-text">
              <div class="title"><h2 class="h2-title">Sudolution</h2></div>
            </div>
          </div>
        </div>
      </section>
      <section id="sudoku-rules" class="sudoku-rules">
        <div class="rules-card">
          <div class="heading-container">
            <div class="line"></div>
            <h1 class="heading">Sudoku Rules</h1>
            <div class="line"></div>
          </div>
          <div class="content-container">
            <div class="text-card" id="text-card">
              <p><strong>Overall Structure:</strong></p>
              <ul>
                <li>A standard Sudoku grid is 9x9, containing 81 cells.</li>
                <li>
                  This grid is divided into nine 3x3 subgrids, often referred to
                  as "boxes," "squares," or "regions."
                </li>
              </ul>
              <p><strong>Subgrid Identification:</strong></p>
              <ul>
                <li>
                  The subgrids are typically numbered from 1 to 9 for reference,
                  starting from the top-left corner and moving left to right,
                  top to bottom.
                </li>
                <li>
                  For example, the top-left subgrid includes cells (1,1) to
                  (3,3), while the center subgrid includes cells (4,4) to (6,6).
                </li>
              </ul>
            </div>
            <div class="image-card">
              <div class="rules-image">
                <img
                  src="{{ url_for('static', filename = 'images/sudoku-rules.png') }}"
                  alt="Sudoku Rules"
                />
              </div>
              <div class="buttons-container">
                <button class="left-button" onclick="showOriginalContent()">
                  Left
                </button>
                <button class="right-button" onclick="showNewContent()">
                  Right
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="sudoku-solver" class="sudoku-solver">
        <div class="solver-card">
          <div class="input-section">
            <div class="input-sudoku">
              <div id="table">
                <table>
                  <tbody>
                    <tr id="row1">
                      <td id="cell-A1">
                        <input
                          id="cell_A1"
                          class="Input row1 col1 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A2">
                        <input
                          id="cell_A2"
                          class="Input row1 col2 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A3">
                        <input
                          id="cell_A3"
                          class="Input row1 col3 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A4">
                        <input
                          id="cell_A4"
                          class="Input row1 col4 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A5">
                        <input
                          id="cell_A5"
                          class="Input row1 col5 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A6">
                        <input
                          id="cell_A6"
                          class="Input row1 col6 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A7">
                        <input
                          id="cell_A7"
                          class="Input row1 col7 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A8">
                        <input
                          id="cell_A8"
                          class="Input row1 col8 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A9">
                        <input
                          id="cell_A9"
                          class="Input row1 col9 grid3"
                          autocomplete="off"
                        />
                      </td>
                    </tr>

                    <tr id="row2">
                      <td id="cell-B1">
                        <input
                          id="cell_B1"
                          class="Input row2 col1 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B2">
                        <input
                          id="cell_B2"
                          class="Input row2 col2 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B3">
                        <input
                          id="cell_B3"
                          class="Input row2 col3 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B4">
                        <input
                          id="cell_B4"
                          class="Input row2 col4 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B5">
                        <input
                          id="cell_B5"
                          class="Input row2 col5 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B6">
                        <input
                          id="cell_B6"
                          class="Input row2 col6 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B7">
                        <input
                          id="cell_B7"
                          class="Input row2 col7 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B8">
                        <input
                          id="cell_B8"
                          class="Input row2 col8 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-B9">
                        <input
                          id="cell_B9"
                          class="Input row2 col9 grid3"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row3">
                      <td id="cell-C1">
                        <input
                          id="cell_C1"
                          class="Input row3 col1 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C2">
                        <input
                          id="cell_C2"
                          class="Input row3 col2 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C3">
                        <input
                          id="cell_C3"
                          class="Input row3 col3 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C4">
                        <input
                          id="cell_C4"
                          class="Input row3 col4 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C5">
                        <input
                          id="cell_C5"
                          class="Input row3 col5 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C6">
                        <input
                          id="cell_C6"
                          class="Input row3 col6 grid2"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C7">
                        <input
                          id="cell_C7"
                          class="Input row3 col7 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C8">
                        <input
                          id="cell_C8"
                          class="Input row3 col8 grid3"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-C9">
                        <input
                          id="cell_C9"
                          class="Input row3 col9 grid3"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row4">
                      <td id="cell-D1">
                        <input
                          id="cell_D1"
                          class="Input row4 col1 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D2">
                        <input
                          id="cell_D2"
                          class="Input row4 col2 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D3">
                        <input
                          id="cell_D3"
                          class="Input row4 col3 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D4">
                        <input
                          id="cell_D4"
                          class="Input row4 col4 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D5">
                        <input
                          id="cell_D5"
                          class="Input row4 col5 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D6">
                        <input
                          id="cell_D6"
                          class="Input row4 col6 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D7">
                        <input
                          id="cell_D7"
                          class="Input row4 col7 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D8">
                        <input
                          id="cell_D8"
                          class="Input row4 col8 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-D9">
                        <input
                          id="cell_D9"
                          class="Input row4 col9 grid6"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row5">
                      <td id="cell-E1">
                        <input
                          id="cell_E1"
                          class="Input row5 col1 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E2">
                        <input
                          id="cell_E2"
                          class="Input row5 col2 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E3">
                        <input
                          id="cell_E3"
                          class="Input row5 col3 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E4">
                        <input
                          id="cell_E4"
                          class="Input row5 col4 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E5">
                        <input
                          id="cell_E5"
                          class="Input row5 col5 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E6">
                        <input
                          id="cell_E6"
                          class="Input row5 col6 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E7">
                        <input
                          id="cell_E7"
                          class="Input row5 col7 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E8">
                        <input
                          id="cell_E8"
                          class="Input row5 col8 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-E9">
                        <input
                          id="cell_E9"
                          class="Input row5 col9 grid6"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row6">
                      <td id="cell-F1">
                        <input
                          id="cell_F1"
                          class="Input row6 col1 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F2">
                        <input
                          id="cell_F2"
                          class="Input row6 col2 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F3">
                        <input
                          id="cell_F3"
                          class="Input row6 col3 grid4"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F4">
                        <input
                          id="cell_F4"
                          class="Input row6 col4 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F5">
                        <input
                          id="cell_F5"
                          class="Input row6 col5 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F6">
                        <input
                          id="cell_F6"
                          class="Input row6 col6 grid5"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F7">
                        <input
                          id="cell_F7"
                          class="Input row6 col7 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F8">
                        <input
                          id="cell_F8"
                          class="Input row6 col8 grid6"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-F9">
                        <input
                          id="cell_F9"
                          class="Input row6 col9 grid6"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row7">
                      <td id="cell-G1">
                        <input
                          id="cell_G1"
                          class="Input row7 col1 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G2">
                        <input
                          id="cell_G2"
                          class="Input row7 col2 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G3">
                        <input
                          id="cell_G3"
                          class="Input row7 col3 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G4">
                        <input
                          id="cell_G4"
                          class="Input row7 col4 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G5">
                        <input
                          id="cell_G5"
                          class="Input row7 col5 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G6">
                        <input
                          id="cell_G6"
                          class="Input row7 col6 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G7">
                        <input
                          id="cell_G7"
                          class="Input row7 col7 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G8">
                        <input
                          id="cell_G8"
                          class="Input row7 col8 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-G9">
                        <input
                          id="cell_G9"
                          class="Input row7 col9 grid9"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row8">
                      <td id="cell-H1">
                        <input
                          id="cell_H1"
                          class="Input row8 col1 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H2">
                        <input
                          id="cell_H2"
                          class="Input row8 col2 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H3">
                        <input
                          id="cell_H3"
                          class="Input row8 col3 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H4">
                        <input
                          id="cell_H4"
                          class="Input row8 col4 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H5">
                        <input
                          id="cell_H5"
                          class="Input row8 col5 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H6">
                        <input
                          id="cell_H6"
                          class="Input row8 col6 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H7">
                        <input
                          id="cell_H7"
                          class="Input row8 col7 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H8">
                        <input
                          id="cell_H8"
                          class="Input row8 col8 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-H9">
                        <input
                          id="cell_H9"
                          class="Input row8 col9 grid9"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row9">
                      <td id="cell-I1">
                        <input
                          id="cell_I1"
                          class="Input row9 col1 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I2">
                        <input
                          id="cell_I2"
                          class="Input row9 col2 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I3">
                        <input
                          id="cell_I3"
                          class="Input row9 col3 grid7"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I4">
                        <input
                          id="cell_I4"
                          class="Input row9 col4 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I5">
                        <input
                          id="cell_I5"
                          class="Input row9 col5 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I6">
                        <input
                          id="cell_I6"
                          class="Input row9 col6 grid8"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I7">
                        <input
                          id="cell_I7"
                          class="Input row9 col7 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I8">
                        <input
                          id="cell_I8"
                          class="Input row9 col8 grid9"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-I9">
                        <input
                          id="cell_I9"
                          class="Input row9 col9 grid9"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="solve-buttons">
              <button class="info-button">Info</button>
              <button class="solve-button" onclick="submitBoard()">
                Solve
              </button>
              <button class="clear-button">Clear</button>
            </div>
          </div>
          <div class="output-section">
            <div class="output-sudoku"></div>
          </div>
        </div>
      </section>
    </div>

    <script>
      function getInputValues() {
        const rows = document.querySelectorAll('tr[id^="row"]');
        const tableArray = Array.from(rows).map((row) => {
          const inputs = row.querySelectorAll('input[class^="Input"]');
          return Array.from(inputs).map((input) => parseInt(input.value) || 0); // Convert to integer, default to 0 if not a number
        });
        console.log(tableArray);
        return tableArray;
      }
      function submitBoard() {
        const tableArray = getInputValues();

        fetch("/solve", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ board: tableArray }),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data.solvedBoard);
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }
      const originalContent = `
  <p><strong>Overall Structure:</strong></p>
  <ul>
    <li>A standard Sudoku grid is 9x9, containing 81 cells.</li>
    <li>This grid is divided into nine 3x3 subgrids, often referred to as "boxes," "squares," or "regions."</li>
  </ul>
  <p><strong>Subgrid Identification:</strong></p>
  <ul>
    <li>The subgrids are typically numbered from 1 to 9 for reference, starting from the top-left corner and moving left to right, top to bottom.</li>
    <li>For example, the top-left subgrid includes cells (1,1) to (3,3), while the center subgrid includes cells (4,4) to (6,6).</li>
  </ul>
`;

      const newContent = `
  <p><strong>Row Constraints:</strong></p>
  <ul>
    <li>Each row must contain all digits from 1 to 9 without repetition and no number can appear more than once in any single row.</li>
  </ul>
  <p><strong>Column Constraints:</strong></p>
  <ul>
    <li>Each column must contain all digits from 1 to 9 without repetition and similar to rows, no number can appear more than once in any single column.</li>
  </ul>
  <p><strong>Subgrid Constraints:</strong></p>
  <ul>
    <li>Each 3x3 subgrid must contain all digits from 1 to 9 without repetition.</li>
  </ul>
`;

      function showOriginalContent() {
        document.getElementById("text-card").innerHTML = originalContent;
      }

      function showNewContent() {
        document.getElementById("text-card").innerHTML = newContent;
      }

      function getCurrentSection() {
        const sections = document.querySelectorAll("section");
        let currentSection = sections[0];
        let minDistance = Number.POSITIVE_INFINITY;

        sections.forEach((section) => {
          const distance = Math.abs(section.getBoundingClientRect().top);
          if (distance < minDistance) {
            minDistance = distance;
            currentSection = section;
          }
        });

        return currentSection;
      }

      document.querySelector(".up-button").addEventListener("click", () => {
        const currentSection = getCurrentSection();
        const prevSection = currentSection.previousElementSibling;
        if (prevSection && prevSection.tagName === "SECTION") {
          prevSection.scrollIntoView({ behavior: "smooth" });
        }
      });

      document.querySelector(".down-button").addEventListener("click", () => {
        const currentSection = getCurrentSection();
        const nextSection = currentSection.nextElementSibling;
        if (nextSection && nextSection.tagName === "SECTION") {
          nextSection.scrollIntoView({ behavior: "smooth" });
        }
      });
    </script>
  </body>
</html>
