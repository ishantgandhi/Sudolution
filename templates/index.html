<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&display=swap"
      rel="stylesheet"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sudolution</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styles/index.css') }}"
    />
    <script src="{{ url_for('static', filename='scripts/index.js') }}"></script>
  </head>
  <body>
    <a href="https://www.nytimes.com/puzzles/sudoku" target="_blank">
      <button class="action-button ny-times-button">
        <img
          class="times logo"
          src="{{ url_for('static', filename='images/times.png') }}"
          alt="Times Logo"
        />
      </button>
    </a>    
    <div class="nav-buttons">
      <button class="action-button up-button">
        <img
              class="up logo"
              src="{{ url_for('static', filename = 'images/up.png') }}"
              alt="up Logo"
            />
      </button>
      <button class="action-button down-button">
        <img
              class="down logo"
              src="{{ url_for('static', filename = 'images/down.png') }}"
              alt="down Logo"
            />
      </button>
    </div>
    <div class="web-container">
      <section id="landing-page" class="landing-page">
        <div class="content">
          <div class="logo-container">
            <img
              class="sudo"
              src="{{ url_for('static', filename = 'images/logo.png') }}"
              alt="Sudolution Logo"
            />
            <div class="logo-text">
              <div class="title"><h2 class="h2-title">Sudolution</h2></div>
            </div>
          </div>
        </div>
      </section>
      <section id="sudoku-rules" class="sudoku-rules">
        <div class="rules-card">
          <div class="heading-container">
            <div class="line"></div>
            <h1 class="heading">Sudoku Rules</h1>
            <div class="line"></div>
          </div>
          <div class="content-container">
            <div class="text-card" id="text-card">
              <p><strong>Overall Structure:</strong></p>
              <ul>
                <li>A standard Sudoku grid is 9x9, containing 81 cells.</li>
                <li>
                  This grid is divided into nine 3x3 subgrids, often referred to
                  as "boxes," "squares," or "regions."
                </li>
              </ul>
              <p><strong>Subgrid Identification:</strong></p>
              <ul>
                <li>
                  The subgrids are typically numbered from 1 to 9 for reference,
                  starting from the top-left corner and moving left to right,
                  top to bottom.
                </li>
                <li>
                  For example, the top-left subgrid includes cells (1,1) to
                  (3,3), while the center subgrid includes cells (4,4) to (6,6).
                </li>
              </ul>
            </div>
            <div class="image-card">
              <div class="rules-image">
                <img
                  src="{{ url_for('static', filename = 'images/sudoku-rules.png') }}"
                  alt="Sudoku Rules"
                />
              </div>
              <div class="buttons-container">
                <button class="action-button left-button" onclick="showOriginalContent()">
                    <img
                class="left logo"
                src="{{ url_for('static', filename = 'images/left.png') }}"
                alt="left Logo"/>
                </button>
                <button class="action-button right-button" onclick="showNewContent()">
                  <img
                class="right logo"
                src="{{ url_for('static', filename = 'images/right.png') }}"
                alt="right Logo"/>
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
      <section id="sudoku-solver" class="sudoku-solver">
        <div class="solver-card" id = "opacity">
          <div class="input-section">
            <div class="input-sudoku">
              <div id="table">
                <table>
                  <tbody>
                    <tr id="row1">
                      <td id="cell-A1">
                        <input
                          id="cell_A1"
                          class="Input row1 col1 grid1"
                          autocomplete="off"
                        />
                      </td>
                      <td id="cell-A2">
                        <input
                          id="cell_A2"
                          class="Input row1 col2 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A3">
                        <input
                          id="cell_A3"
                          class="Input row1 col3 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A4">
                        <input
                          id="cell_A4"
                          class="Input row1 col4 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A5">
                        <input
                          id="cell_A5"
                          class="Input row1 col5 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A6">
                        <input
                          id="cell_A6"
                          class="Input row1 col6 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A7">
                        <input
                          id="cell_A7"
                          class="Input row1 col7 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A8">
                        <input
                          id="cell_A8"
                          class="Input row1 col8 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-A9">
                        <input
                          id="cell_A9"
                          class="Input row1 col9 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>

                    <tr id="row2">
                      <td id="cell-B1">
                        <input
                          id="cell_B1"
                          class="Input row2 col1 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B2">
                        <input
                          id="cell_B2"
                          class="Input row2 col2 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B3">
                        <input
                          id="cell_B3"
                          class="Input row2 col3 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B4">
                        <input
                          id="cell_B4"
                          class="Input row2 col4 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B5">
                        <input
                          id="cell_B5"
                          class="Input row2 col5 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B6">
                        <input
                          id="cell_B6"
                          class="Input row2 col6 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B7">
                        <input
                          id="cell_B7"
                          class="Input row2 col7 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B8">
                        <input
                          id="cell_B8"
                          class="Input row2 col8 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-B9">
                        <input
                          id="cell_B9"
                          class="Input row2 col9 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row3">
                      <td id="cell-C1">
                        <input
                          id="cell_C1"
                          class="Input row3 col1 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C2">
                        <input
                          id="cell_C2"
                          class="Input row3 col2 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C3">
                        <input
                          id="cell_C3"
                          class="Input row3 col3 grid1"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C4">
                        <input
                          id="cell_C4"
                          class="Input row3 col4 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C5">
                        <input
                          id="cell_C5"
                          class="Input row3 col5 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C6">
                        <input
                          id="cell_C6"
                          class="Input row3 col6 grid2"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C7">
                        <input
                          id="cell_C7"
                          class="Input row3 col7 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C8">
                        <input
                          id="cell_C8"
                          class="Input row3 col8 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-C9">
                        <input
                          id="cell_C9"
                          class="Input row3 col9 grid3"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row4">
                      <td id="cell-D1">
                        <input
                          id="cell_D1"
                          class="Input row4 col1 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D2">
                        <input
                          id="cell_D2"
                          class="Input row4 col2 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D3">
                        <input
                          id="cell_D3"
                          class="Input row4 col3 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D4">
                        <input
                          id="cell_D4"
                          class="Input row4 col4 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D5">
                        <input
                          id="cell_D5"
                          class="Input row4 col5 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D6">
                        <input
                          id="cell_D6"
                          class="Input row4 col6 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D7">
                        <input
                          id="cell_D7"
                          class="Input row4 col7 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D8">
                        <input
                          id="cell_D8"
                          class="Input row4 col8 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-D9">
                        <input
                          id="cell_D9"
                          class="Input row4 col9 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row5">
                      <td id="cell-E1">
                        <input
                          id="cell_E1"
                          class="Input row5 col1 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E2">
                        <input
                          id="cell_E2"
                          class="Input row5 col2 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E3">
                        <input
                          id="cell_E3"
                          class="Input row5 col3 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E4">
                        <input
                          id="cell_E4"
                          class="Input row5 col4 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E5">
                        <input
                          id="cell_E5"
                          class="Input row5 col5 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E6">
                        <input
                          id="cell_E6"
                          class="Input row5 col6 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E7">
                        <input
                          id="cell_E7"
                          class="Input row5 col7 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E8">
                        <input
                          id="cell_E8"
                          class="Input row5 col8 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-E9">
                        <input
                          id="cell_E9"
                          class="Input row5 col9 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row6">
                      <td id="cell-F1">
                        <input
                          id="cell_F1"
                          class="Input row6 col1 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F2">
                        <input
                          id="cell_F2"
                          class="Input row6 col2 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F3">
                        <input
                          id="cell_F3"
                          class="Input row6 col3 grid4"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F4">
                        <input
                          id="cell_F4"
                          class="Input row6 col4 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F5">
                        <input
                          id="cell_F5"
                          class="Input row6 col5 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F6">
                        <input
                          id="cell_F6"
                          class="Input row6 col6 grid5"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F7">
                        <input
                          id="cell_F7"
                          class="Input row6 col7 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F8">
                        <input
                          id="cell_F8"
                          class="Input row6 col8 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-F9">
                        <input
                          id="cell_F9"
                          class="Input row6 col9 grid6"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row7">
                      <td id="cell-G1">
                        <input
                          id="cell_G1"
                          class="Input row7 col1 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G2">
                        <input
                          id="cell_G2"
                          class="Input row7 col2 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G3">
                        <input
                          id="cell_G3"
                          class="Input row7 col3 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G4">
                        <input
                          id="cell_G4"
                          class="Input row7 col4 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G5">
                        <input
                          id="cell_G5"
                          class="Input row7 col5 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G6">
                        <input
                          id="cell_G6"
                          class="Input row7 col6 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G7">
                        <input
                          id="cell_G7"
                          class="Input row7 col7 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G8">
                        <input
                          id="cell_G8"
                          class="Input row7 col8 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-G9">
                        <input
                          id="cell_G9"
                          class="Input row7 col9 grid9"
                          autocomplete="off"
                        />
                      </td>
                    </tr>
                    <tr id="row8">
                      <td id="cell-H1">
                        <input
                          id="cell_H1"
                          class="Input row8 col1 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H2">
                        <input
                          id="cell_H2"
                          class="Input row8 col2 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H3">
                        <input
                          id="cell_H3"
                          class="Input row8 col3 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H4">
                        <input
                          id="cell_H4"
                          class="Input row8 col4 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H5">
                        <input
                          id="cell_H5"
                          class="Input row8 col5 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H6">
                        <input
                          id="cell_H6"
                          class="Input row8 col6 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H7">
                        <input
                          id="cell_H7"
                          class="Input row8 col7 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H8">
                        <input
                          id="cell_H8"
                          class="Input row8 col8 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-H9">
                        <input
                          id="cell_H9"
                          class="Input row8 col9 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                    <tr id="row9">
                      <td id="cell-I1">
                        <input
                          id="cell_I1"
                          class="Input row9 col1 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I2">
                        <input
                          id="cell_I2"
                          class="Input row9 col2 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I3">
                        <input
                          id="cell_I3"
                          class="Input row9 col3 grid7"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I4">
                        <input
                          id="cell_I4"
                          class="Input row9 col4 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I5">
                        <input
                          id="cell_I5"
                          class="Input row9 col5 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I6">
                        <input
                          id="cell_I6"
                          class="Input row9 col6 grid8"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I7">
                        <input
                          id="cell_I7"
                          class="Input row9 col7 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I8">
                        <input
                          id="cell_I8"
                          class="Input row9 col8 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                      <td id="cell-I9">
                        <input
                          id="cell_I9"
                          class="Input row9 col9 grid9"
                          autocomplete="off"
                          size="1"
                          maxlength="1"
                        />
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="solve-buttons">
              <button class="action-button info-button" onclick="toggleOpacity()" >
                <img
                class="info logo"
                src="{{ url_for('static', filename = 'images/i.png') }}"
                alt="i Logo"/>
              </button>
              <button class="action-button solve-button" onclick="submitBoard()">
                <img
                class="search logo"
                src="{{ url_for('static', filename = 'images/search.png') }}"
                alt="search Logo"/>
              </button>
              <button class="action-button clear-button" onclick="clearBoard()">
                <img
                class="clear logo"
                src="{{ url_for('static', filename = 'images/clear.png') }}"
                alt="clear Logo"/>
              </button>
            </div>
          </div>
          <div class="output-section">
            <div class="output-sudoku"></div>
          </div>
        </div>
        <div class="how-popup" id="how-popup">
          <div class="heading-container">
            <div class="line"></div>
            <h1 class="heading">How To Use</h1>
            <div class="line"></div>
          </div>
          <div class="how-text-container">
            <div class="how-to-card">
              <p><strong>Click to Enter Numbers:</strong> Click on any cell in the Sudoku grid to enter a number from 1 to 9. If you enter a wrong number click on the cell again and backspace.</p>
              <p><strong>Solve Button:</strong> Click the "Solve" button to automatically solve the Sudoku puzzle.</p>
              <p><strong>Solved Puzzle Display:</strong> The solved Sudoku puzzle will fade in and appear to the right of the input Sudoku grid.</p>
              <p><strong>Refresh Button:</strong> Click the "Refresh" button to clear all inputs and reset the Sudoku grid.</p>
            </div>
            <button class="action-button cross-button" onclick="toggleOpacity()">
              <img
              class="cross logo"
              src="{{ url_for('static', filename = 'images/cross.png') }}"
              alt="Cross Logo"/>
            </button>
          </div>
        </div>
      </section>
    </div>

    <script>
      document.querySelectorAll('.action-button').forEach(button => {
        button.addEventListener('click', function() {
          const logo = this.querySelector('.logo');
          const originalSrc = logo.dataset.originalSrc || logo.src;
          const newSrc = logo.dataset.newSrc;
      
          if (!newSrc) {
            if (originalSrc.includes('up.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/up2.png') }}";
            } else if (originalSrc.includes('down.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/down2.png') }}";
            } else if (originalSrc.includes('left.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/left2.png') }}";
            } else if (originalSrc.includes('right.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/right2.png') }}";
            } else if (originalSrc.includes('i.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/i2.png') }}";
            } else if (originalSrc.includes('search.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/search2.png') }}";
            } else if (originalSrc.includes('clear.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/clear2.png') }}";
            } else if (originalSrc.includes('cross.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/cross2.png') }}";
            } else if (originalSrc.includes('times.png')) {
              logo.dataset.newSrc = "{{ url_for('static', filename = 'images/times2.png') }}";
            }
          }
      
          if (logo.src === originalSrc) {
            logo.src = logo.dataset.newSrc;
          } else {
            logo.src = originalSrc;
          }
      
          this.classList.add('clicked');
      
          setTimeout(() => {
            this.classList.remove('clicked');
            logo.src = originalSrc; 
          }, 200);
      
          logo.dataset.originalSrc = originalSrc;
        });
      });
      
      


      function toggleOpacity() {
        var opacity = document.getElementById("opacity");
        opacity.classList.toggle("active");
        var popup = document.getElementById("how-popup");
        popup.classList.toggle("active");
      }

      function clearBoard() {
        const outputSection = document.querySelector(".output-sudoku");
        outputSection.classList.remove("visible");

        setTimeout(() => {
          outputSection.innerHTML = "";

          const rows = document.querySelectorAll('tr[id^="row"]');
          rows.forEach((row) => {
            const inputs = row.querySelectorAll('input[class^="Input"]');
            inputs.forEach((input) => {
              input.value = "";
            });
          });

          outputSection.classList.add("visible");
        }, 300);
      }

      function getInputValues() {
        const rows = document.querySelectorAll('tr[id^="row"]');
        const tableArray = Array.from(rows).map((row) => {
          const inputs = row.querySelectorAll('input[class^="Input"]');
          return Array.from(inputs).map((input) => parseInt(input.value) || 0);
        });
        console.log(tableArray);
        return tableArray;
      }
      function submitBoard() {
        const tableArray = getInputValues();

        fetch("/solve", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({ board: tableArray }),
        })
          .then((response) => response.json())
          .then((data) => {
            console.log(data.solvedBoard);
            displaySolvedBoard(data.solvedBoard);
          })
          .catch((error) => {
            console.error("Error:", error);
          });
      }

      function displaySolvedBoard(solvedBoard) {
        const outputSection = document.querySelector(".output-sudoku");
        outputSection.innerHTML = ""; 
        const table = document.createElement("table");
        table.id = "solved-table"; 

        const rows = ["A", "B", "C", "D", "E", "F", "G", "H", "I"];

        for (let i = 0; i < 9; i++) {
          const row = document.createElement("tr");
          row.id = `solved-row${i + 1}`; 

          for (let j = 0; j < 9; j++) {
            const cell = document.createElement("td");
            cell.id = `cell-${rows[i]}${j + 1}`; 

            const input = document.createElement("input");
            input.value = solvedBoard[i][j] || ""; 
            input.className = `Input row${i + 1} col${j + 1} grid${
              Math.floor(j / 3) + Math.floor(i / 3) * 3 + 1
            }`;
            input.setAttribute("readonly", true); 

            cell.appendChild(input);
            row.appendChild(cell);
          }
          table.appendChild(row);
        }

        outputSection.appendChild(table);
        setTimeout(() => {
          outputSection.classList.add("visible");
        }, 10);
      }

      const originalContent = `
        <p><strong>Overall Structure:</strong></p>
        <ul>
          <li>A standard Sudoku grid is 9x9, containing 81 cells.</li>
          <li>This grid is divided into nine 3x3 subgrids, often referred to as "boxes," "squares," or "regions."</li>
        </ul>
        <p><strong>Subgrid Identification:</strong></p>
        <ul>
          <li>The subgrids are typically numbered from 1 to 9 for reference, starting from the top-left corner and moving left to right, top to bottom.</li>
          <li>For example, the top-left subgrid includes cells (1,1) to (3,3), while the center subgrid includes cells (4,4) to (6,6).</li>
        </ul>
        `;

      const newContent = `
      <p><strong>Row Constraints:</strong></p>
      <ul>
        <li>Each row must contain all digits from 1 to 9 without repetition and no number can appear more than once in any single row.</li>
      </ul>
      <p><strong>Column Constraints:</strong></p>
      <ul>
        <li>Each column must contain all digits from 1 to 9 without repetition and similar to rows, no number can appear more than once in any single column.</li>
      </ul>
      <p><strong>Subgrid Constraints:</strong></p>
      <ul>
        <li>Each 3x3 subgrid must contain all digits from 1 to 9 without repetition.</li>
      </ul>
      `;

      function showOriginalContent() {
        document.getElementById("text-card").innerHTML = originalContent;
      }

      function showNewContent() {
        document.getElementById("text-card").innerHTML = newContent;
      }

      function getCurrentSection() {
        const sections = document.querySelectorAll("section");
        let currentSection = sections[0];
        let minDistance = Number.POSITIVE_INFINITY;

        sections.forEach((section) => {
          const distance = Math.abs(section.getBoundingClientRect().top);
          if (distance < minDistance) {
            minDistance = distance;
            currentSection = section;
          }
        });

        return currentSection;
      }

      document.querySelector(".up-button").addEventListener("click", () => {
        const currentSection = getCurrentSection();
        const prevSection = currentSection.previousElementSibling;
        if (prevSection && prevSection.tagName === "SECTION") {
          prevSection.scrollIntoView({ behavior: "smooth" });
        }
      });

      document.querySelector(".down-button").addEventListener("click", () => {
        const currentSection = getCurrentSection();
        const nextSection = currentSection.nextElementSibling;
        if (nextSection && nextSection.tagName === "SECTION") {
          nextSection.scrollIntoView({ behavior: "smooth" });
        }
      });
    </script>
  </body>
</html>
